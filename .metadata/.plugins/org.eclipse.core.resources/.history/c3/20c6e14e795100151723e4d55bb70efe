import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintWriter;
import java.io.Writer;
import java.util.List;
import java.util.Properties;

import edu.stanford.nlp.ling.CoreAnnotations.SentencesAnnotation;
import edu.stanford.nlp.pipeline.Annotation;
import edu.stanford.nlp.pipeline.StanfordCoreNLP;
import edu.stanford.nlp.util.CoreMap;

public class BaseFormConverter {
	String inputf;
	String outputf;
	String errorlogfile="error.log";
	boolean isdir;
	
	public BaseFormConverter(String inputf, String outputf) {
		this.inputf = inputf;
		this.outputf = outputf;
		if(new File(inputf).isDirectory()){
			this.isdir = true;
			File outputdir = new File(outputf);
			if(outputdir.exists() && outputdir.isFile()) {
				throw new RuntimeException("The output directory cannot be created");
			}
			else if(!outputdir.exists()) {
				outputdir.mkdir();
			}
		}
		else {
			this.isdir = false;
		}
	}
	
	public void baseFormConverting() {
		PrintWriter err;
		try {
			err = new PrintWriter(this.errorlogfile);
		} catch (FileNotFoundException e1) {
			throw new RuntimeException("Cannot create log file.");
		}
		if(isdir) {
			File dir = new File(this.inputf);
			File[] directoryListing = dir.listFiles();
			BufferedReader reader = null;
			String line;
			for (File child : directoryListing) {
				try {
					reader = new BufferedReader(new FileReader(child));
					while((line=reader.readLine()) != null) {
						
					}
				} catch (IOException e) {
					e.printStackTrace(err);
				}
			}
		}
		else {
			
		}
	}
	
	static public List<CoreMap> convertStringToSentences(String text) {
		// creates a StanfordCoreNLP object, with POS tagging, lemmatization, NER, parsing, and coreference resolution 
	    Properties props = new Properties();
	    props.setProperty("annotators", "tokenize, ssplit, pos, lemma, ner, parse, dcoref");
	    StanfordCoreNLP pipeline = new StanfordCoreNLP(props);
	    
	    // create an empty Annotation just with the given text
	    Annotation document = new Annotation(text);
	    
	    // run all Annotators on this text
	    pipeline.annotate(document);
	    
	    // these are all the sentences in this document
	    // a CoreMap is essentially a Map that uses class objects as keys and has values with custom types
	    List<CoreMap> sentences = document.get(SentencesAnnotation.class);
	    
	    return sentences;
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		File f = new File();
	}

}
