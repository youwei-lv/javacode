<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Wed Sep 30 20:44:47 JST 2015 -->
<title>IldaGibbs</title>
<meta name="date" content="2015-09-30">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IldaGibbs";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IldaGibbs.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html" title="interface in org.knowceans.topics.simple"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/knowceans/topics/simple/IldaGibbs.html" target="_top">Frames</a></li>
<li><a href="IldaGibbs.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.knowceans.topics.simple</div>
<h2 title="Class IldaGibbs" class="title">Class IldaGibbs</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.knowceans.topics.simple.IldaGibbs</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleGibbs</a>, <a href="../../../../org/knowceans/topics/simple/ISimplePpx.html" title="interface in org.knowceans.topics.simple">ISimplePpx</a>, <a href="../../../../org/knowceans/topics/simple/ISimpleQueryGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleQueryGibbs</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">IldaGibbs</span>
extends java.lang.Object
implements <a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleGibbs</a>, <a href="../../../../org/knowceans/topics/simple/ISimpleQueryGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleQueryGibbs</a>, <a href="../../../../org/knowceans/topics/simple/ISimplePpx.html" title="interface in org.knowceans.topics.simple">ISimplePpx</a></pre>
<div class="block">LDA Gibbs sampler with nonparametric prior (HDP):
 <p>
 (m,k | alpha * tau | gamma), k->inf, (k,t | beta)
 <p>
 using Teh et al. (2006) approach for the direct assignment sampler, with
 modular LDA parametric sampler first published by Griffiths (2002) and
 explained in Heinrich (2005). For the original LDA paper, see Blei et al.
 (2002).
 <p>
 The general idea is to retain as much as possible of the standard LDA Gibbs
 sampler, which is possible by alternatingly sampling the finite case with K +
 1 topics and resampling the topic weights taking into account the current
 assignments of data items to topics and pruning or expanding the topic set
 accordingly.
 <p>
 I tried to find the (subjectively) best tradeoff between simplicity and the
 JASA paper (Teh et al. 2006). Therefore I have only used the direct
 assignment method.
 <p>
 The implementation uses lists instead of primitive arrays, but for
 performance reasons, this may be changed to have a bound Kmax to allocate
 fixed-size arrays, similar to a truncated DP.
 <p>
 Caveats: (1) Performance is not a core criterion, and OOP encapsulation is
 ignored for compactness' sake. (2) Code still uses the likelihood function of
 LDA, and without the hyperparameter terms.
 <p>
 LICENSE: GPL3, see: http://www.gnu.org/licenses/gpl-3.0.html
 <p>
 References:
 <p>
 D.M. Blei, A. Ng, M.I. Jordan. Latent Dirichlet Allocation. NIPS, 2002
 <p>
 T. Griffiths. Gibbs sampling in the generative model of Latent Dirichlet
 Allocation. TR, 2002, www-psych.stanford.edu/~gruffydd/cogsci02/lda.ps
 <p>
 G. Heinrich. Parameter estimation for text analysis. TR, 2009,
 www.arbylon.net/publications/textest2.pdf
 <p>
 G. Heinrich. "Infinite LDA" -- implementing the HDP with minimum code
 complexity. TN2011/1, www.arbylon.net/publications/ilda.pdf
 <p>
 Y.W. Teh, M.I. Jordan, M.J. Beal, D.M. Blei. Hierarchical Dirichlet
 Processes. JASA, 101:1566-1581, 2006</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>0.95</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>(c) 2008-2011 Gregor Heinrich, gregor :: arbylon : net</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#aalpha">aalpha</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#abeta">abeta</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#agamma">agamma</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#alpha">alpha</a></span></code>
<div class="block">precision of the 2nd-level DP</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#balpha">balpha</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#bbeta">bbeta</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#beta">beta</a></span></code>
<div class="block">parameter of root base measure (= component Dirichlet)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#bgamma">bgamma</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#fixedHyper">fixedHyper</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#fixedK">fixedK</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#gamma">gamma</a></span></code>
<div class="block">precision of root DP</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#inited">inited</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#iter">iter</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#K">K</a></span></code>
<div class="block">current number of non-empty components</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#kactive">kactive</a></span></code>
<div class="block">active components: value = value in z and count arrays, which should
 always match.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.SortedSet&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#kgaps">kgaps</a></span></code>
<div class="block">inactive components: index = index in count arrays, element = value in z.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#M">M</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#Mq">Mq</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#nk">nk</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;int[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#nkt">nkt</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.lang.Integer&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#nmk">nmk</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#nmkq">nmkq</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#phi">phi</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#pp">pp</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#ppstep">ppstep</a></span></code>
<div class="block">step to increase the sampling array</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#R">R</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Random</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#rand">rand</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/knowceans/util/RandomSamplers.html" title="class in org.knowceans.util">RandomSamplers</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#samp">samp</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#T">T</a></span></code>
<div class="block">total number of tables</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;java.lang.Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#tau">tau</a></span></code>
<div class="block">mean of the 2nd-level DP = sample from 1st-level DP</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#V">V</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../org/knowceans/topics/simple/TopicMatrixPanel.html" title="class in org.knowceans.topics.simple">TopicMatrixPanel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#vis">vis</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#w">w</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#wq">wq</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#Wq">Wq</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#z">z</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#zq">zq</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#IldaGibbs-int:A:A-int:A:A-int-int-double-double-double-java.util.Random-">IldaGibbs</a></span>(int[][]&nbsp;w,
         int[][]&nbsp;wq,
         int&nbsp;K,
         int&nbsp;V,
         double&nbsp;alpha,
         double&nbsp;beta,
         double&nbsp;gamma,
         java.util.Random&nbsp;rand)</code>
<div class="block">parametrise gibbs sampler</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#init--">init</a></span>()</code>
<div class="block">initialise Markov chain</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#initq--">initq</a></span>()</code>
<div class="block">initialise Markov chain for querying</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">test driver for mixture network Gibbs sampler</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#packTopics--">packTopics</a></span>()</code>
<div class="block">reorders topics such that no gaps exist in the count arrays and topics
 are ordered with their counts descending.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#ppx--">ppx</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#print-java.io.PrintStream-java.lang.String-int:A-int-">print</a></span>(java.io.PrintStream&nbsp;out,
     java.lang.String&nbsp;filebase,
     int[]&nbsp;docids,
     int&nbsp;W)</code>
<div class="block">print the result of the model, save topics to files</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#run-int-">run</a></span>(int&nbsp;niter)</code>
<div class="block">run Gibbs sampler</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#runq-int-">runq</a></span>(int&nbsp;niter)</code>
<div class="block">query Gibbs sampler.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#spawnTopic-int-int-">spawnTopic</a></span>(int&nbsp;m,
          int&nbsp;t)</code>
<div class="block">adds a topic to the list of active topics, either by reusing an existing
 inactive index (gap) or increasing the count arrays.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#toString--">toString</a></span>()</code>
<div class="block">assemble a string of overview information.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#updateHyper--">updateHyper</a></span>()</code>
<div class="block">update scalar DP hyperparameters alpha, gamma and Dirichlet
 hyperparameter beta.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/knowceans/topics/simple/IldaGibbs.html#updateTau--">updateTau</a></span>()</code>
<div class="block">prune topics and update tau, the root DP mixture weights.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="vis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vis</h4>
<pre>private static&nbsp;<a href="../../../../org/knowceans/topics/simple/TopicMatrixPanel.html" title="class in org.knowceans.topics.simple">TopicMatrixPanel</a> vis</pre>
</li>
</ul>
<a name="w">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>w</h4>
<pre>private&nbsp;int[][] w</pre>
</li>
</ul>
<a name="wq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wq</h4>
<pre>private&nbsp;int[][] wq</pre>
</li>
</ul>
<a name="kgaps">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>kgaps</h4>
<pre>private&nbsp;java.util.SortedSet&lt;java.lang.Integer&gt; kgaps</pre>
<div class="block">inactive components: index = index in count arrays, element = value in z.
 Filled on component removal.</div>
</li>
</ul>
<a name="kactive">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>kactive</h4>
<pre>private&nbsp;java.util.List&lt;java.lang.Integer&gt; kactive</pre>
<div class="block">active components: value = value in z and count arrays, which should
 always match. This array is never removed elements from but inactive
 elements are set to -1. This allows to reuse components (gaps) and to
 keep the indices of z and counts identical.</div>
</li>
</ul>
<a name="nmk">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nmk</h4>
<pre>private&nbsp;java.util.List&lt;java.lang.Integer&gt;[] nmk</pre>
</li>
</ul>
<a name="nmkq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nmkq</h4>
<pre>private&nbsp;int[][] nmkq</pre>
</li>
</ul>
<a name="nkt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nkt</h4>
<pre>private&nbsp;java.util.List&lt;int[]&gt; nkt</pre>
</li>
</ul>
<a name="nk">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nk</h4>
<pre>private&nbsp;java.util.List&lt;java.lang.Integer&gt; nk</pre>
</li>
</ul>
<a name="phi">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>phi</h4>
<pre>private&nbsp;double[][] phi</pre>
</li>
</ul>
<a name="z">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>z</h4>
<pre>private&nbsp;int[][] z</pre>
</li>
</ul>
<a name="zq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zq</h4>
<pre>private&nbsp;int[][] zq</pre>
</li>
</ul>
<a name="pp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pp</h4>
<pre>private&nbsp;double[] pp</pre>
</li>
</ul>
<a name="ppstep">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ppstep</h4>
<pre>public final&nbsp;int ppstep</pre>
<div class="block">step to increase the sampling array</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.knowceans.topics.simple.IldaGibbs.ppstep">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="alpha">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alpha</h4>
<pre>private&nbsp;double alpha</pre>
<div class="block">precision of the 2nd-level DP</div>
</li>
</ul>
<a name="tau">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tau</h4>
<pre>private&nbsp;java.util.ArrayList&lt;java.lang.Double&gt; tau</pre>
<div class="block">mean of the 2nd-level DP = sample from 1st-level DP</div>
</li>
</ul>
<a name="beta">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beta</h4>
<pre>private&nbsp;double beta</pre>
<div class="block">parameter of root base measure (= component Dirichlet)</div>
</li>
</ul>
<a name="gamma">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gamma</h4>
<pre>private&nbsp;double gamma</pre>
<div class="block">precision of root DP</div>
</li>
</ul>
<a name="aalpha">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aalpha</h4>
<pre>double aalpha</pre>
</li>
</ul>
<a name="balpha">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>balpha</h4>
<pre>double balpha</pre>
</li>
</ul>
<a name="abeta">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abeta</h4>
<pre>double abeta</pre>
</li>
</ul>
<a name="bbeta">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bbeta</h4>
<pre>double bbeta</pre>
</li>
</ul>
<a name="agamma">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>agamma</h4>
<pre>double agamma</pre>
</li>
</ul>
<a name="bgamma">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bgamma</h4>
<pre>double bgamma</pre>
</li>
</ul>
<a name="R">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>R</h4>
<pre>int R</pre>
</li>
</ul>
<a name="T">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>T</h4>
<pre>private&nbsp;double T</pre>
<div class="block">total number of tables</div>
</li>
</ul>
<a name="rand">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rand</h4>
<pre>private&nbsp;java.util.Random rand</pre>
</li>
</ul>
<a name="samp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>samp</h4>
<pre><a href="../../../../org/knowceans/util/RandomSamplers.html" title="class in org.knowceans.util">RandomSamplers</a> samp</pre>
</li>
</ul>
<a name="iter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iter</h4>
<pre>private&nbsp;int iter</pre>
</li>
</ul>
<a name="K">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>K</h4>
<pre>private&nbsp;int K</pre>
<div class="block">current number of non-empty components</div>
</li>
</ul>
<a name="M">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>M</h4>
<pre>private&nbsp;int M</pre>
</li>
</ul>
<a name="Mq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Mq</h4>
<pre>private&nbsp;int Mq</pre>
</li>
</ul>
<a name="Wq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Wq</h4>
<pre>private&nbsp;int Wq</pre>
</li>
</ul>
<a name="V">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>V</h4>
<pre>private&nbsp;int V</pre>
</li>
</ul>
<a name="inited">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inited</h4>
<pre>private&nbsp;boolean inited</pre>
</li>
</ul>
<a name="fixedK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fixedK</h4>
<pre>private&nbsp;boolean fixedK</pre>
</li>
</ul>
<a name="fixedHyper">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fixedHyper</h4>
<pre>private&nbsp;boolean fixedHyper</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IldaGibbs-int:A:A-int:A:A-int-int-double-double-double-java.util.Random-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IldaGibbs</h4>
<pre>public&nbsp;IldaGibbs(int[][]&nbsp;w,
                 int[][]&nbsp;wq,
                 int&nbsp;K,
                 int&nbsp;V,
                 double&nbsp;alpha,
                 double&nbsp;beta,
                 double&nbsp;gamma,
                 java.util.Random&nbsp;rand)</pre>
<div class="block">parametrise gibbs sampler</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>w</code> - word tokens</dd>
<dd><code>wq</code> - word tokens (testing)</dd>
<dd><code>K</code> - initial number of topics: may be 0 if gamma > 0.</dd>
<dd><code>V</code> - number of terms</dd>
<dd><code>alpha</code> - node A precision (document DP)</dd>
<dd><code>gamma</code> - node A precision (root DP), 0 for fixed K: plain LDA.</dd>
<dd><code>beta</code> - node B hyperparam</dd>
<dd><code>rand</code> - random number generator</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">test driver for mixture network Gibbs sampler</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - </dd>
</dl>
</li>
</ul>
<a name="print-java.io.PrintStream-java.lang.String-int:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>print</h4>
<pre>private&nbsp;void&nbsp;print(java.io.PrintStream&nbsp;out,
                   java.lang.String&nbsp;filebase,
                   int[]&nbsp;docids,
                   int&nbsp;W)</pre>
<div class="block">print the result of the model, save topics to files</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filebase</code> - </dd>
<dd><code>docids</code> - </dd>
<dd><code>W</code> - </dd>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()</pre>
<div class="block">initialise Markov chain</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html#init--">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleGibbs</a></code></dd>
</dl>
</li>
</ul>
<a name="initq--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initq</h4>
<pre>public&nbsp;void&nbsp;initq()</pre>
<div class="block">initialise Markov chain for querying</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/knowceans/topics/simple/ISimpleQueryGibbs.html#initq--">initq</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/knowceans/topics/simple/ISimpleQueryGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleQueryGibbs</a></code></dd>
</dl>
</li>
</ul>
<a name="run-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run(int&nbsp;niter)</pre>
<div class="block">run Gibbs sampler</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html#run-int-">run</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleGibbs</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>niter</code> - number of Gibbs iterations</dd>
</dl>
</li>
</ul>
<a name="runq-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runq</h4>
<pre>public&nbsp;void&nbsp;runq(int&nbsp;niter)</pre>
<div class="block">query Gibbs sampler. This assumes the standard LDA model as we know the
 dimensionality from the training set, therefore topics need to be pruned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/knowceans/topics/simple/ISimpleQueryGibbs.html#runq-int-">runq</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/knowceans/topics/simple/ISimpleQueryGibbs.html" title="interface in org.knowceans.topics.simple">ISimpleQueryGibbs</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>niter</code> - number of Gibbs iterations</dd>
</dl>
</li>
</ul>
<a name="spawnTopic-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spawnTopic</h4>
<pre>private&nbsp;int&nbsp;spawnTopic(int&nbsp;m,
                       int&nbsp;t)</pre>
<div class="block">adds a topic to the list of active topics, either by reusing an existing
 inactive index (gap) or increasing the count arrays. NB: Within this
 method, the state is inconsistent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - current document</dd>
<dd><code>t</code> - current term</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>index of topic spawned</dd>
</dl>
</li>
</ul>
<a name="packTopics--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>packTopics</h4>
<pre>public&nbsp;void&nbsp;packTopics()</pre>
<div class="block">reorders topics such that no gaps exist in the count arrays and topics
 are ordered with their counts descending. Removes any gap dimensions.</div>
</li>
</ul>
<a name="updateTau--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTau</h4>
<pre>private&nbsp;void&nbsp;updateTau()</pre>
<div class="block">prune topics and update tau, the root DP mixture weights.</div>
</li>
</ul>
<a name="updateHyper--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateHyper</h4>
<pre>private&nbsp;void&nbsp;updateHyper()</pre>
<div class="block">update scalar DP hyperparameters alpha, gamma and Dirichlet
 hyperparameter beta. Assumes that T is updated (by updateTau).</div>
</li>
</ul>
<a name="ppx--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ppx</h4>
<pre>public&nbsp;double&nbsp;ppx()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/knowceans/topics/simple/ISimplePpx.html#ppx--">ppx</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/knowceans/topics/simple/ISimplePpx.html" title="interface in org.knowceans.topics.simple">ISimplePpx</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the perplexity of the last query sample.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">assemble a string of overview information.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IldaGibbs.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/knowceans/topics/simple/ISimpleGibbs.html" title="interface in org.knowceans.topics.simple"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/knowceans/topics/simple/IldaGibbs.html" target="_top">Frames</a></li>
<li><a href="IldaGibbs.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
